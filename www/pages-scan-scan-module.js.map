{"version":3,"sources":["./src/app/pages/scan/scan.module.ts","./src/app/pages/scan/scan.page.ts","./src/app/pages/scan/scan.page.html","./src/app/pages/scan/scan.page.scss"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACE;AAEF;AAEN;IAW1B,cAAc,SAAd,cAAc;CAAG;AAAjB,cAAc;IAT1B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,mDAAQ,EAAC,CAAC,CAAC;SAC1D;QACD,YAAY,EAAE,CAAC,mDAAQ,CAAC;KACzB,CAAC;GACW,cAAc,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;AClBe;AAEe;AAEG;AACM;AAElE,sCAAsC;IAOzB,QAAQ,SAAR,QAAQ;IAEnB,YACU,IAAiB,EACjB,GAAkB,EAClB,QAAkB,EACnB,OAAuB;QAHtB,SAAI,GAAJ,IAAI,CAAa;QACjB,QAAG,GAAH,GAAG,CAAe;QAClB,aAAQ,GAAR,QAAQ,CAAU;QACnB,YAAO,GAAP,OAAO,CAAgB;IAC5B,CAAC;IAEL,QAAQ;IACR,CAAC;IAED,eAAe;QACb,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE;YACjC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,CAAC;YAElE,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAC5C,CAAC,OAAO,EAAE,EAAE;gBACV,IAAI,OAAO,EAAE;oBACX,GAAG,CAAC,WAAW,EAAE,CAAC;oBAElB,gBAAgB;oBAChB,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;oBAE5B,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBAC7B,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;iBAChC;YACH,CAAC,CACF,CAAC;SACH;IACH,CAAC;IAED,aAAa;IAEb,CAAC;IAED,gBAAgB;QACd,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE;YACjC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;SAC7B;IACH,CAAC;IAED,UAAU;QACR,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;CAEF;;YAzDQ,yEAAW;YAFX,4DAAa;YAAE,uDAAQ;YAGvB,+EAAc;;AASV,QAAQ;IALpB,+DAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,4EAA+B;;KAEhC,CAAC;GACW,QAAQ,CA+CpB;AA/CoB;;;;;;;;;;;;;ACdrB;AAAe,u5CAAw1C,E;;;;;;;;;;;;ACAv2C;AAAe,6EAAc,qBAAqB,GAAG,UAAU,oBAAoB,cAAc,iBAAiB,uBAAuB,kBAAkB,GAAG,aAAa,oBAAoB,iBAAiB,cAAc,eAAe,uBAAuB,kBAAkB,GAAG,uCAAuC,iBAAiB,gBAAgB,GAAG,iBAAiB,8BAA8B,oBAAoB,aAAa,iBAAiB,cAAc,eAAe,GAAG,gBAAgB,gBAAgB,iBAAiB,qBAAqB,GAAG,6CAA6C,u6CAAu6C,E","file":"pages-scan-scan-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScanPage } from './scan.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([{ path: '', component: ScanPage}])\n  ],\n  declarations: [ScanPage]\n})\nexport class ScanPageModule {}\n","import { Component } from '@angular/core';\n\nimport { NavController, Platform } from '@ionic/angular';\n\nimport { CoreService } from 'src/app/services/core.service';\nimport { ScannerService } from 'src/app/services/scanner.service';\n\n// const { BarcodeScanner } = Plugins;\n\n@Component({\n  selector: 'app-scan',\n  templateUrl: './scan.page.html',\n  styleUrls: ['./scan.page.scss'],\n})\nexport class ScanPage {\n\n  constructor(\n    private core: CoreService,\n    private nav: NavController,\n    private platform: Platform,\n    public scanner: ScannerService,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter() {\n    if (this.platform.is('capacitor')) {\n      this.scanner.startScanning();\n      this.scanner.setCameraView(document.getElementById('cameraView'));\n\n      const sub = this.scanner.onScanEvent.subscribe(\n        (barcode) => {\n          if (barcode) {\n            sub.unsubscribe();\n\n            // Stop scanning\n            this.scanner.stopScanning();\n\n            this.core.lastScan = barcode;\n            this.nav.navigateRoot('/home');\n          }\n        }\n      );\n    }\n  }\n\n  onBarcodeScan() {\n\n  }\n\n  ionViewWillLeave() {\n    if (this.platform.is('capacitor')) {\n      this.scanner.stopScanning();\n    }\n  }\n\n  cancelScan() {\n    this.nav.navigateBack('home');\n  }\n\n}\n","export default \"<ion-content>\\n  <div class=\\\"top\\\">\\n    <strong class=\\\"ion-text-uppercase\\\">Place barcode in center</strong>\\n  </div>\\n\\n  <div class=\\\"cameraView\\\" #cameraView id=\\\"cameraView\\\"></div>\\n\\n  <div class=\\\"bottom\\\">\\n    <ion-row>\\n\\n      <ion-col>\\n        <ion-button color=\\\"danger\\\" size=\\\"small\\\" expand=\\\"full\\\" (click)=\\\"cancelScan()\\\">\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back-outline\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n\\n      <!-- <ion-col>\\n        <ion-button color=\\\"success\\\" size=\\\"small\\\" expand=\\\"full\\\" (click)=\\\"test()\\\">\\n          TEST\\n        </ion-button>\\n      </ion-col> -->\\n\\n      <ion-col>\\n        <ion-button color=\\\"primary\\\" size=\\\"small\\\" expand=\\\"full\\\" (click)=\\\"scanner.switchCamera()\\\">\\n          <ion-icon slot=\\\"icon-only\\\" [name]=\\\"scanner.usingCamera == 'back' ? 'camera-reverse' : 'camera-reverse-outline'\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n\\n      <ion-col>\\n        <ion-button [color]=\\\"scanner.torchActive ? 'medium' : 'light'\\\" size=\\\"small\\\" expand=\\\"full\\\" (click)=\\\"scanner.toggleFlashlight()\\\">\\n          <ion-icon slot=\\\"icon-only\\\" color=\\\"dark\\\" [name]=\\\"scanner.torchActive ? 'flash' : 'flash-outline'\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n\\n    </ion-row>\\n  </div>\\n\\n  <div class=\\\"bottom right\\\">\\n  </div>\\n</ion-content>\";","export default \"ion-content {\\n  overflow: hidden;\\n}\\n\\n.top {\\n  position: fixed;\\n  top: 60px;\\n  width: 100vw;\\n  text-align: center;\\n  z-index: 1001;\\n}\\n\\n.bottom {\\n  position: fixed;\\n  bottom: 20px;\\n  left: 0px;\\n  right: 0px;\\n  text-align: center;\\n  z-index: 1001;\\n}\\n\\n.bottom ion-row,\\n.bottom ion-col {\\n  padding: 0px;\\n  margin: 0px;\\n}\\n\\n.cameraView {\\n  background-color: #424242;\\n  position: fixed;\\n  top: 0px;\\n  bottom: 60px;\\n  left: 0px;\\n  right: 0px;\\n}\\n\\nion-button {\\n  margin: 0px;\\n  opacity: 0.8;\\n  min-height: 40px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NjYW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxTQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLFlBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtBQUNGOztBQUNFOztFQUVFLFlBQUE7RUFDQSxXQUFBO0FBQ0o7O0FBR0E7RUFDRSx5QkFBQTtFQUNBLGVBQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FBQUY7O0FBTUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBSEYiLCJmaWxlIjoic2Nhbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi50b3Age1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogNjBweDsgLy8gaW5jcmVhc2UgdG8gYWNjb3VudCBmb3Igbm90Y2hlc1xuICB3aWR0aDogMTAwdnc7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgei1pbmRleDogMTAwMTtcbn1cblxuLmJvdHRvbSB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAyMHB4O1xuICBsZWZ0OiAwcHg7XG4gIHJpZ2h0OiAwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgei1pbmRleDogMTAwMTtcblxuICBpb24tcm93LFxuICBpb24tY29sIHtcbiAgICBwYWRkaW5nOiAwcHg7XG4gICAgbWFyZ2luOiAwcHg7XG4gIH1cbn1cblxuLmNhbWVyYVZpZXcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDI0MjQyO1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMHB4O1xuICBib3R0b206IDYwcHg7XG4gIGxlZnQ6IDBweDtcbiAgcmlnaHQ6IDBweDtcbiAgLy8gaGVpZ2h0OiAxMDAlO1xuICAvLyB3aWR0aDogMTAwJTtcbiAgLy8gei1pbmRleDogNTAwO1xufVxuXG5pb24tYnV0dG9uIHtcbiAgbWFyZ2luOiAwcHg7XG4gIG9wYWNpdHk6IDAuODtcbiAgbWluLWhlaWdodDogNDBweDtcbiAgLy8gd2lkdGg6IDEwMCU7XG59XG4iXX0= */\";"],"sourceRoot":"webpack:///"}